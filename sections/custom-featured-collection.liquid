<div class="custom-best-seller-section">
  <div class="page-width collection section-{{ section.id }}-padding{% if section.settings.full_width %} collection--full-width{% endif %}">
        <div class="seaction-heading-design collection__title title-wrapper title-wrapper--no-top-margin page-width{% if show_mobile_slider %} title-wrapper--self-padded-tablet-down{% endif %}{% if show_desktop_slider %} collection__title--desktop-slider{% endif %}">
          {%- if section.settings.subheading != blank -%}
          <h3 class="subtitle h3">{{ section.settings.subheading | escape }}</h3>
          {%- endif -%}
         {% if section.settings.img-heading != blank %}
        <div class="heading-image">
          <img src="{{ section.settings.img-heading | img_url: '1920x' }}" class="image-heading desktop-img" />
          {% if section.settings.img-heading-mob != blank %}
              <img src="{{ section.settings.img-heading-mob | img_url: '800x' }}" class="image-heading mobile-img" />
          {% else %}
              <img src="{{ section.settings.img-heading | img_url: '800x' }}" class="image-heading desktop-img force-desk" />
          {% endif %}
        </div>
      {% else %}
        <h3 class="title h2">{{ section.settings.title }}</h3>
      {% endif %}
          {%- if section.settings.description != blank or section.settings.show_description and section.settings.collection.description != empty -%}
            <div class="collection__description {{ section.settings.description_style }}">{%- if section.settings.show_description -%}{{ section.settings.collection.description }}{%- else -%}{{ section.settings.description }}{% endif %}</div>
          {%- endif -%}
        </div>
  
  
  {% comment %}Tabber html start{% endcomment %}
  <div class="cust-tabber">
    <div class="cust-tabs">
      <div class="cust-tab cust-active" >{{ section.settings.tab1_heading }}</div>
      <div class="cust-tab" >{{ section.settings.tab2_heading }}</div>
      <div class="cust-tab" >{{ section.settings.tab3_heading }}</div>
       {% if section.settings.tab4_heading != blank %} <div class="cust-tab" >{{ section.settings.tab4_heading }}</div> {% endif %}
       {% if section.settings.tab5_heading != blank %} <div class="cust-tab" >{{ section.settings.tab5_heading }}</div> {% endif %}
       {% if section.settings.tab5_heading != blank %} <div class="cust-tab" >{{ section.settings.tab6_heading }}</div> {% endif %}
       {% if section.settings.tab7_heading != blank %} <div class="cust-tab" >{{ section.settings.tab7_heading }}</div> {% endif %}
    </div>
    
    <div class="cust-tab-content">
      
      <ul class="cust-content product-collection-design grid product-grid contains-card contains-card--standard grid--4-col-desktop grid--2-col-tablet-down cust-active" id="cust-tab1">
  {% for product in section.settings.tab1_collection.products limit: section.settings.products_to_show1 %}
    {% render 'custom-card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_quick_add: section.settings.enable_quick_add
      %}
  {% endfor %}  
</ul>
<ul class="cust-content product-collection-design grid product-grid contains-card contains-card--standard grid--4-col-desktop grid--2-col-tablet-down" id="cust-tab2">
  {% for product in section.settings.tab2_collection.products limit: section.settings.products_to_show2 %}
    {% render 'custom-card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_quick_add: section.settings.enable_quick_add
      %}
  {% endfor %}
</ul>
<ul class="cust-content product-collection-design grid product-grid contains-card contains-card--standard grid--4-col-desktop grid--2-col-tablet-down" id="cust-tab3">
  {% for product in section.settings.tab3_collection.products limit: section.settings.products_to_show3 %}
    {% render 'custom-card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_quick_add: section.settings.enable_quick_add
      %}
  {% endfor %}
</ul>
{% if section.settings.tab4_heading != blank %}
<ul class="cust-content product-collection-design grid product-grid contains-card contains-card--standard grid--4-col-desktop grid--2-col-tablet-down" id="cust-tab4">
  {% for product in section.settings.tab4_collection.products limit: section.settings.products_to_show4 %}
    {% render 'custom-card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_quick_add: section.settings.enable_quick_add
      %}
  {% endfor %}
</ul>
{% endif %}
{% if section.settings.tab5_heading != blank %}
<ul class="cust-content product-collection-design grid product-grid contains-card contains-card--standard grid--4-col-desktop grid--2-col-tablet-down" id="cust-tab5">
  {% for product in section.settings.tab5_collection.products limit: section.settings.products_to_show5 %}
    {% render 'custom-card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_quick_add: section.settings.enable_quick_add
      %}
  {% endfor %}
</ul>
{% endif %}
{% if section.settings.tab6_heading != blank %}
<ul class="cust-content product-collection-design grid product-grid contains-card contains-card--standard grid--4-col-desktop grid--2-col-tablet-down" id="cust-tab6">
  {% for product in section.settings.tab6_collection.products limit: section.settings.products_to_show6 %}
    {% render 'custom-card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_quick_add: section.settings.enable_quick_add
      %}
  {% endfor %}
</ul>
{% endif %}
{% if section.settings.tab7_heading != blank %}
<ul class="cust-content product-collection-design grid product-grid contains-card contains-card--standard grid--4-col-desktop grid--2-col-tablet-down" id="cust-tab7">
  {% for product in section.settings.tab7_collection.products limit: section.settings.products_to_show7 %}
    {% render 'custom-card-product',
        card_product: product,
        media_aspect_ratio: section.settings.image_ratio,
        show_secondary_image: section.settings.show_secondary_image,
        show_vendor: section.settings.show_vendor,
        show_quick_add: section.settings.enable_quick_add
      %}
  {% endfor %}
</ul>
{% endif %}
    </div>
  </div>
  
  
    {% comment %}Tabber html end{% endcomment %}
  
  
    
   {% comment %}
      {%- if section.settings.show_view_all -%}
        <div class="center collection__view-all">
          <a href="{{ section.settings.collection.url }}"
            class="button"
            aria-label="{{ 'sections.featured_collection.view_all_label' | t: collection_name: section.settings.collection.title }}"
          >
            {{ 'sections.featured_collection.view_all' | t }}
          </a>
        </div>
      {%- endif -%}
   {% endcomment %}
    </div>
  </div>

  <script >
  
     var tabs = document.getElementsByClassName("cust-tab");
     var tabContents = document.getElementsByClassName("cust-content");
      for (let i = 0; i < tabs.length; i++) {
          tabs[i].addEventListener('click', ()=> {
            for (let j = 0; j < tabContents.length; j++) {
              tabContents[j].classList.remove('cust-active');
              tabs[j].classList.remove('cust-active');
            }
            $('.cust-content.cust-active').slick('unslick');
            
  
              
  
            tabContents[i].classList.add('cust-active');
             tabs[i].classList.add('cust-active');
              $('.cust-content.cust-active').slick({
       infinite: false,
      autoplay: true,
      autoplaySpeed: 5000,
      slidesToShow: 4,
      slidesToScroll: 1,
      responsive: [
     
        {
          breakpoint: 991,
          settings: {
              slidesToShow: 3,
              slidesToScroll: 1,
              arrows: false,
              dots: false,
              centerMode: true,
              centerPadding: '150px',
              infinite: true
          }
        },
        {
          breakpoint: 769,
          settings: {
            centerMode: true,
              centerPadding: '100px',
             slidesToShow: 2,
            slidesToScroll: 1,
            infinite: true
          }
        },
        {
          breakpoint: 600,
          settings: {
            centerMode: true,
              centerPadding: '100px',
             slidesToShow: 1, 
            slidesToScroll: 1,
            infinite: true
          }
        }
      ]
    })
            
          })
      }
    
  </script>

  {% schema %}
   {
  "name": "Custom Featured collec",
  "settings": [
    {
      "type": "text",
      "id": "subheading",
      "label": "Sub-heading",
      "default": "Sub-heading"
    },
    {
      "type": "text",
      "id": "title",
      "default": "Featured collection",
      "label": "t:sections.featured-collection.settings.title.label"
    },
    {
        "type": "image_picker",
        "id": "img-heading",
        "label": "Heading Image"
      },
      {
        "type": "image_picker",
        "id": "img-heading-mob",
        "label": "Heading Image Mob"
      },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "t:sections.all.heading_size.options__1.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.heading_size.options__2.label"
        },
        {
          "value": "h0",
          "label": "t:sections.all.heading_size.options__3.label"
        }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
    {
      "type": "text",
      "label": "Tab 1 Heading",
      "id": "tab1_heading",
      "default": "Tab 1"
    },
    {
      "type": "range",
      "id": "products_to_show1",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4,
      "label": "Maximum products to show"
    },
    {
      "type": "collection",
      "label": "Tab 1 Collection",
      "id": "tab1_collection"
    },
    {
      "type": "text",
      "label": "Tab 2 Heading",
      "id": "tab2_heading",
      "default": "Tab 2"
    },
    {
      "type": "range",
      "id": "products_to_show2",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4,
      "label": "Maximum products to show"
    },
    {
      "type": "collection",
      "label": "Tab 2 Collection",
      "id": "tab2_collection"
    },
    {
      "type": "text",
      "label": "Tab 3 Heading",
      "id": "tab3_heading",
      "default": "Tab 3"
    },
    {
      "type": "range",
      "id": "products_to_show3",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4,
      "label": "Maximum products to show"
    },
    {
      "type": "collection",
      "label": "Tab 3 Collection",
      "id": "tab3_collection"
    },
    {
      "type": "text",
      "label": "Tab 4 Heading",
      "id": "tab4_heading",
      "default": "Tab 4"
    },
    {
      "type": "range",
      "id": "products_to_show4",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4,
      "label": "Maximum products to show"
    },
    {
      "type": "collection",
      "label": "Tab 4 Collection",
      "id": "tab4_collection"
    },
    {
      "type": "text",
      "label": "Tab 5 Heading",
      "id": "tab5_heading",
      "default": "Tab 5"
    },
    {
      "type": "range",
      "id": "products_to_show5",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4,
      "label": "Maximum products to show"
    },
    {
      "type": "collection",
      "label": "Tab 5 Collection",
      "id": "tab5_collection"
    },
    {
      "type": "text",
      "label": "Tab 6 Heading",
      "id": "tab6_heading",
      "default": "Tab 6"
    },
    {
      "type": "range",
      "id": "products_to_show6",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4,
      "label": "Maximum products to show"
    },
    {
      "type": "collection",
      "label": "Tab 6 Collection",
      "id": "tab6_collection"
    },
    {
      "type": "text",
      "label": "Tab 7 Heading",
      "id": "tab7_heading",
      "default": "Tab 7"
    },
    {
      "type": "range",
      "id": "products_to_show7",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 4,
      "label": "Maximum products to show"
    },
    {
      "type": "collection",
      "label": "Tab 7 Collection",
      "id": "tab7_collection"
    },
    {
      "type": "text",
      "id": "show_view_all",
      "label": "Button"
    },
    {
      "type": "header",
      "content": "t:sections.featured-collection.settings.header.content"
    },
    {
      "type": "select",
      "id": "image_ratio",
      "options": [
        {
          "value": "adapt",
          "label": "t:sections.featured-collection.settings.image_ratio.options__1.label"
        },
        {
          "value": "portrait",
          "label": "t:sections.featured-collection.settings.image_ratio.options__2.label"
        },
        {
          "value": "square",
          "label": "t:sections.featured-collection.settings.image_ratio.options__3.label"
        }
      ],
      "default": "adapt",
      "label": "t:sections.featured-collection.settings.image_ratio.label"
    },
    {
      "type": "checkbox",
      "id": "show_secondary_image",
      "default": false,
      "label": "t:sections.featured-collection.settings.show_secondary_image.label"
    },
    {
      "type": "checkbox",
      "id": "show_vendor",
      "default": false,
      "label": "t:sections.featured-collection.settings.show_vendor.label"
    },
    {
      "type": "checkbox",
      "id": "show_rating",
      "default": false,
      "label": "t:sections.featured-collection.settings.show_rating.label",
      "info": "t:sections.featured-collection.settings.show_rating.info"
    },
    {
      "type": "checkbox",
      "id": "enable_quick_add",
      "default": false,
      "label": "t:sections.featured-collection.settings.enable_quick_buy.label"
    }
  ],
  "presets": [
    {
      "category": "Image",
      "name": "Custom best seller section"
    }
  ]
}

  {% endschema %}
  
  {% stylesheet %}
   
  {% endstylesheet %}
  
  {% javascript %}
   $('.cust-content.cust-active').slick({
     infinite: false,
    autoplay: true,
    autoplaySpeed: 5000,
    slidesToShow: 4,
    slidesToScroll: 1,
    responsive: [
      {
        breakpoint: 991,
        settings: {
            slidesToShow: 3,
            slidesToScroll: 1,
            arrows: false,
            dots: false,
            centerMode: true,
            centerPadding: '150px',
            infinite: true
        }
      },
      {
        breakpoint: 769,
        settings: {
          centerMode: true,
            centerPadding: '100px',
           slidesToShow: 2,
          slidesToScroll: 1,
          infinite: true
        }
      },
      {
        breakpoint: 600,
        settings: {
          centerMode: true,
            centerPadding: '100px',
           slidesToShow: 1, 
          slidesToScroll: 1,
          infinite: true
        }
      }
    ]
  });
  {% endjavascript %}

 
